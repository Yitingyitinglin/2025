<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯µç‰©å‹å–„é¤å»³é«”é©—éŠ</title>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2&family=Pacifico&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Baloo 2', sans-serif;
            background-color: #fdf5e6;
            text-align: center;
            margin: 50px;
        }
        h1 {
            font-family: 'Pacifico', cursive;
            color: #774c3d;
        }
        p {
            font-size: 18px;
            color: #5e3d29;
        }
        .role-selection, .owner-restaurant-selection, .owner-scenario, .owner-reaction-options, .story-section {
            margin-top: 20px;
        }
        button {
            font-size: 16px;
            padding: 10px 20px;
            margin: 10px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            background-color: #f4c2c2;
            color: white;
            font-family: 'Baloo 2', sans-serif;
        }
        button:hover {
            background-color: #e59797;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <h1>å¯µç‰©å‹å–„é¤å»³é«”é©—éŠ</h1>
    <p id="role-title">ä½ æ˜¯ä¸€ä½é£¼ä¸»ï¼Œå¸¶è‘—ç‹—ç‹—æº–å‚™å¤–å‡ºç”¨é¤...</p>

    <!-- é£¼ä¸»æµç¨‹ -->
    <div class="owner-restaurant-selection">
        <p>ä½ æƒ³å»å“ªé–“é¤å»³å‘¢ï¼Ÿ</p>
        <button id="owner-restaurant-0" onclick="selectOwnerRestaurant(0)">ğŸ¶ ç‹—ç‹—åœ–æ¡ˆé¤å»³</button>
        <button id="owner-restaurant-1" onclick="selectOwnerRestaurant(1)">ğŸ  å¯µç‰©å‹å–„è²¼ç´™é¤å»³</button>
        <button id="owner-restaurant-2" onclick="selectOwnerRestaurant(2)">ğŸ“ ç©ºé–“ç‹¹å°é¤å»³</button>
        <button id="owner-restaurant-3" onclick="selectOwnerRestaurant(3)">ğŸš« ç¦æ­¢å¯µç‰©é¤å»³</button>
    </div>

    <div class="owner-scenario hidden">
        <p id="owner-scenario-text"></p>
    </div>

    <div class="owner-reaction-options hidden">
        <button id="owner-specific-action"></button>
        <button onclick="leaveOwnerRestaurant()">ğŸšª æ‘¸æ‘¸é¼»å­é›¢é–‹ï¼Œé¸æ“‡å…¶ä»–é¤å»³</button>
    </div>

    <div class="story-section hidden">
        <p id="story-text"></p>
        <h2>ä»–çš„ç¶“æ­·</h2>
        <button onclick="restartGame()">ğŸ”„ é‡æ–°é–‹å§‹</button>
    </div>

    <script>
        let ownerUsed = [];

        const ownerData = [
            {
                desc: "ä½ éœ€è¦æ‰›è‘—å¯µç‰©æˆ–æ¨è»Šä¸Šæ¨“ã€‚",
                action: "è©¦è‘—æ¬é‹å¯µç‰©/æ¨è»Šä¸Šæ¨“ï¼Œä½†æ„Ÿè¦ºåƒåŠ›ã€‚",
                story: "ä½ è²»åŠ›åœ°æ‰›è‘—æ¨è»Šä¸Šæ¨“ï¼Œä¸€é‚Šå–˜æ°£ä¸€é‚Šæƒ³ï¼Œé€™æ¨£çš„è¨­è¨ˆçœŸçš„é©åˆå¯µç‰©å‹å–„å—ï¼Ÿ"
            },
            {
                desc: "ä½†åº—å“¡è¦æ±‚ä½ æŠŠç‹—ç‹—çš„é ­ç”¨é ­ç½©è“‹ä½ã€‚",
                action: "åªå¥½å®‰æ’«ç‹—ç‹—æƒ…ç·’ä¸¦è“‹ä¸Šé ­å¥—ã€‚",
                story: "ä½ å®‰æ’«è‘—ä¸å®‰çš„ç‹—ç‹—ï¼Œå…§å¿ƒæœ‰äº›ä¸æ¨ï¼Œä½†ä¹Ÿæ˜ç™½åº—å®¶çš„è€ƒé‡ã€‚"
            },
            {
                desc: "ç©ºé–“æœ‰é™ï¼Œå¯µç‰©é–“å¥½åƒå¾ˆå®¹æ˜“èµ·è¡çªã€‚",
                action: "åªå¥½å°‡å¯µç‰©æ”¾åœ¨è…¿ä¸Šã€‚",
                story: "ä½ å°å¿ƒç¿¼ç¿¼åœ°æŠ±è‘—å¯µç‰©ï¼Œå¸Œæœ›ç‰ åˆ¥äº‚å«ï¼Œé€™é “é£¯åƒå¾—æ ¼å¤–å°å¿ƒã€‚"
            },
            {
                desc: "è¢«æé†’ç„¡æ³•å°‡å¯µç‰©å¸¶å…¥å…§ã€‚",
                action: "åªå¥½å°‡ç‹—ç‹—å®‰ç½®åœ¨å¤–ï¼Œéš”è‘—é–€æˆ–ç»ç’ƒç”¨é¤ã€‚",
                story: "ä½ æœ›è‘—ç»ç’ƒå¤–çš„ç‹—ç‹—ï¼Œæ„Ÿè¦ºé€™é “é£¯å°‘äº†äº›æº«åº¦ã€‚"
            }
        ];

        function updateOwnerRestaurantButtons() {
            const allButtons = document.querySelectorAll('.owner-restaurant-selection button');
            allButtons.forEach((button, index) => {
                if (ownerUsed.includes(index)) {
                    button.disabled = true;
                    button.style.backgroundColor = "#ccc"; // ç¦ç”¨é¡è‰²
                } else {
                    button.disabled = false;
                    button.style.backgroundColor = "#f4c2c2"; // æ¢å¾©æ­£å¸¸é¡è‰²
                }
            });
        }

        function selectOwnerRestaurant(index) {
            ownerUsed.push(index);
            updateOwnerRestaurantButtons(); // æ›´æ–°æŒ‰éˆ•ç¦ç”¨ç‹€æ…‹
            const data = ownerData[index];

            document.querySelector(".owner-restaurant-selection").classList.add("hidden");
            document.querySelector(".owner-scenario").classList.remove("hidden");
            document.getElementById("owner-scenario-text").innerText = data.desc;

            const actionBtn = document.getElementById("owner-specific-action");
            actionBtn.innerText = data.action;
            actionBtn.onclick = () => showOwnerStory(data.story);

            document.querySelector(".owner-reaction-options").classList.remove("hidden");

            // å¦‚æœæ‰€æœ‰é¤å»³éƒ½é¸å®Œï¼Œéš±è—ã€Œé¸æ“‡å…¶ä»–é¤å»³ã€æŒ‰éˆ•
            if (ownerUsed.length === ownerData.length) {
                document.getElementById("owner-specific-action").nextElementSibling.classList.add("hidden");
            } else {
                document.getElementById("owner-specific-action").nextElementSibling.classList.remove("hidden");
            }
        }

        function showOwnerStory(story) {
            document.querySelector(".owner-reaction-options").classList.add("hidden");
            document.querySelector(".owner-scenario").classList.add("hidden");
            document.querySelector(".story-section").classList.remove("hidden");
            document.getElementById("story-text").innerText = story;
        }

        function leaveOwnerRestaurant() {
            document.querySelector(".owner-scenario").classList.add("hidden");
            document.querySelector(".owner-reaction-options").classList.add("hidden");
            document.querySelector(".owner-restaurant-selection").classList.remove("hidden");
            updateOwnerRestaurantButtons(); // ç¢ºä¿è¿”å›é¤å»³é¸æ“‡é é¢å¾Œï¼Œç¦ç”¨å·²é¸é¤å»³
        }

        function restartGame() {
            document.querySelector(".story-section").classList.add("hidden");
            document.querySelector(".owner-restaurant-selection").classList.remove("hidden");
            ownerUsed = [];
            updateOwnerRestaurantButtons(); // æ¸…é™¤æ‰€æœ‰é¸æ“‡ä¸¦é‡æ–°é¡¯ç¤ºé¤å»³é¸æ“‡
        }
    </script>

</body>
</html>
